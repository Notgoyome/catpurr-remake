[gd_scene load_steps=17 format=3 uid="uid://dsl0kv6s3m8q7"]

[ext_resource type="PackedScene" uid="uid://cxc6vpsrngtfm" path="res://entities/player/player.tscn" id="1_377w7"]
[ext_resource type="PackedScene" uid="uid://cmpb86god1d1r" path="res://scenes/levels/ground.tscn" id="1_bovvr"]
[ext_resource type="Script" uid="uid://cbggolfrv3n4h" path="res://scenes/levels/level.gd" id="1_xb4v1"]
[ext_resource type="Script" uid="uid://bv6kfikshcv8l" path="res://scenes/levels/ground.gd" id="3_urvlt"]
[ext_resource type="Script" uid="uid://dy3p1wn1a4seh" path="res://entities/environnement/spawn_manager.gd" id="5_urvlt"]
[ext_resource type="PackedScene" uid="uid://v8k4iceekoue" path="res://entities/enemies/chicken.tscn" id="6_d4w6o"]
[ext_resource type="Script" uid="uid://bbrfqxgyo6ilr" path="res://resources/wave/wave_data.gd" id="7_ouxo3"]
[ext_resource type="Script" uid="uid://c6e5ns257p36t" path="res://ui/levels/level_ui.gd" id="8_ouxo3"]
[ext_resource type="Script" uid="uid://r0pwtltebnsj" path="res://ui/levels/score.gd" id="9_icy5c"]
[ext_resource type="PackedScene" uid="uid://c34ccq48c50f3" path="res://entities/enemies/waves/wave.tscn" id="9_xfk5q"]
[ext_resource type="Texture2D" uid="uid://bmfcar2w2tfqo" path="res://assets/images/entities/environnement/cloud.png" id="10_rmjfq"]
[ext_resource type="Script" uid="uid://xxomrj05lrcn" path="res://scenes/levels/life_container.gd" id="11_7pb6i"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_377w7"]
size = Vector2(840, 16)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_bovvr"]
size = Vector2(16, 212)

[sub_resource type="Resource" id="Resource_qogh7"]
script = ExtResource("7_ouxo3")
scene = ExtResource("9_xfk5q")
x_start = 336.0
min_y = 64.0
max_y = 164.0
metadata/_custom_type_script = "uid://bbrfqxgyo6ilr"

[sub_resource type="Curve" id="Curve_ouxo3"]
_limits = [0.0, 11.9228, 0.0, 600.0]
bake_resolution = 600
_data = [Vector2(0, 1.46955), 0.0, -0.000481777, 0, 1, Vector2(598.544, 1.18119), -0.000481777, 0.0, 1, 0]
point_count = 2

[node name="Level" type="Node2D" groups=["Level"]]
y_sort_enabled = true
script = ExtResource("1_xb4v1")
SPEED = 100.0

[node name="Barrier" type="StaticBody2D" parent="."]
visible = false
collision_layer = 5
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Barrier"]
position = Vector2(225, 40)
shape = SubResource("RectangleShape2D_377w7")

[node name="CollisionShape2D4" type="CollisionShape2D" parent="Barrier"]
position = Vector2(640, 90)
shape = SubResource("RectangleShape2D_bovvr")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Barrier"]
position = Vector2(228, 188)
shape = SubResource("RectangleShape2D_377w7")

[node name="ColorRect" type="ColorRect" parent="."]
z_index = -60
offset_right = 320.0
offset_bottom = 48.0
color = Color(0.141176, 0.623529, 0.870588, 1)

[node name="CPUParticles2D" type="CPUParticles2D" parent="ColorRect"]
position = Vector2(392, 16)
amount = 5
texture = ExtResource("10_rmjfq")
lifetime = 30.0
preprocess = 61.95
randomness = 1.0
emission_shape = 3
emission_rect_extents = Vector2(1, 20)
direction = Vector2(-1, 0)
spread = 0.0
gravity = Vector2(0, 0)
initial_velocity_min = 10.0
initial_velocity_max = 30.0
scale_amount_max = 2.0

[node name="Ground" parent="." node_paths=PackedStringArray("level") instance=ExtResource("1_bovvr")]
scale = Vector2(1.00506, 1)
script = ExtResource("3_urvlt")
level = NodePath("..")

[node name="Ground2" parent="." node_paths=PackedStringArray("level") instance=ExtResource("1_bovvr")]
position = Vector2(320, 0)
script = ExtResource("3_urvlt")
level = NodePath("..")

[node name="Player" parent="." instance=ExtResource("1_377w7")]
position = Vector2(72, 112)
collision_layer = 3
collision_mask = 5

[node name="SpawnManager" type="Node" parent="."]
script = ExtResource("5_urvlt")
waves = Array[ExtResource("7_ouxo3")]([SubResource("Resource_qogh7")])
spawn_delay = SubResource("Curve_ouxo3")

[node name="LevelUI" type="CanvasLayer" parent="."]
script = ExtResource("8_ouxo3")

[node name="Score" type="RichTextLabel" parent="LevelUI"]
offset_left = 4.0
offset_top = 5.0
offset_right = 172.0
offset_bottom = 21.0
theme_override_constants/outline_size = 4
text = "SCORE: "
script = ExtResource("9_icy5c")
score_string = "SCORE: "

[node name="LifeContainer" type="HBoxContainer" parent="LevelUI"]
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -76.0
offset_top = 4.0
offset_right = -4.0
offset_bottom = 29.0
grow_horizontal = 0
theme_override_constants/separation = 0
alignment = 2
script = ExtResource("11_7pb6i")

[node name="Chicken" parent="." instance=ExtResource("6_d4w6o")]
position = Vector2(136, 120)
collision_mask = 1
